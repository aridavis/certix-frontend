(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{145:function(e,t,a){e.exports=a.p+"static/media/singer.3001a2d2.jpg"},271:function(e,t,a){e.exports=a.p+"static/media/concert.c1ebdff7.jpg"},275:function(e,t,a){e.exports=a.p+"static/media/concert2.0050b78d.jpg"},280:function(e,t,a){e.exports=a.p+"static/media/search.e818a9e1.jpg"},302:function(e,t,a){e.exports=a.p+"static/media/concert3.2f0320d4.jpg"},354:function(e,t,a){e.exports=a(574)},573:function(e,t,a){},574:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(21),l=a.n(o),i=a(47),c=a(27),s=a(18),u=a(7),m=a(12),p=a(14),d=a(13),h=a(621),f=a(54),g=a(314),E=a(626),b=a(653),v=a(119),y=a(5),C=a(25),O=a.n(C),j=a(271),x=a.n(j),w=a(30),S=a(22),k=a.n(S),_=a(52).create(),N="https://api.certix.suhanginta-hermanudin.xyz/api",T=a(25);_.interceptors.request.use((function(e){var t="Bearer "+T.load("ACCESS_TOKEN");return e.headers.Authorization=t,e})),_.interceptors.response.use((function(e){return e}),(function(e){try{if(void 0!==e.response)if(401===e.response.status)k.a.fire("Not Authorized","","warning").then((function(e){window.location="/login"}));else{for(var t="",a=0,n=0,r=Object.entries(e.response.data.message);n<r.length;n++){Object(w.a)(r[n],2)[1].forEach((function(e){0!==a&&(t+="<br>"),t+=e,a++}))}t=t.replaceAll(" id "," "),k.a.fire("Error",t,"error")}}catch(o){void 0!==e.response.status?k.a.fire("Error ".concat(e.response.status),e.response.statusText,"error"):k.a.fire("Error",o.toString(),"error")}return Promise.reject(e)}));var D=function e(){Object(u.a)(this,e)};D.Get=function(e,t){return _.get(N+e,{params:t})},D.Post=function(e,t){return _.post(N+e,t)},D.Put=function(e,t){return _.put(N+e,t)},D.Delete=function(e){return _.delete(N+e)};var A=D,F=function e(){Object(u.a)(this,e)};F.Login=function(e){return A.Post("/auth/login",e)},F.Register=function(e){return A.Post("/users/register",e)},F.Logout=function(){return A.Post("/auth/logout")},F.Wallet=function(){return A.Get("/wallet")};var I=F,P=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:"",remember_me:!1},e.handleTextChange=function(t,a){e.setState(Object(s.a)({},a,t.currentTarget.value))},e.handleLogin=function(t){t.preventDefault(),I.Login(e.state).then((function(t){O.a.save("ACCESS_TOKEN",t.data.access_token,{path:"/",expires:e.state.remember_me?new Date(t.data.expires_at):null}),e.props.history.push("/")}))},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement("div",{className:t.root},r.a.createElement("form",{onSubmit:this.handleLogin},r.a.createElement(h.a,{container:!0,className:[t.formContainer,t.dfjccaic]},r.a.createElement(f.a,{className:t.title,variant:"h3"},"Login Certix"),r.a.createElement(g.a,{fullWidth:!0,value:this.state.email,className:t.textField,label:"Email",onChange:function(t){e.handleTextChange(t,"email")},inputProps:{className:t.input}}),r.a.createElement(g.a,{fullWidth:!0,value:this.state.password,className:t.textField,label:"Password",type:"password",onChange:function(t){e.handleTextChange(t,"password")},inputProps:{className:t.input}}),r.a.createElement(E.a,{control:r.a.createElement(b.a,{color:"primary",fullWidth:!0,checked:this.state.remember_me,onChange:function(t,a){e.setState({remember_me:a})}}),style:{width:"100%",color:"white"},label:"Remember Me"}),r.a.createElement(v.a,{fullWidth:!0,variant:"contained",color:"primary",type:"submit",onClick:this.handleLogin,style:{marginTop:"20px"},href:"#contained-buttons"},"Login"),r.a.createElement("span",{style:{color:"white",marginTop:"10px"}},"Don't have account?"," ",r.a.createElement(i.b,{to:"register",style:{color:"white"}},"Register")))))}}]),a}(n.Component),W=Object(y.a)((function(e){return{root:{backgroundSize:"cover",backgroundImage:"url(".concat(x.a,")"),width:"100vw",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},textField:{paddingBottom:0,margin:"10px 0px",fontWeight:500},input:{color:"white"},formContainer:{backgroundColor:"rgba(0,0,0,0.7)",width:400,padding:20},dfjccaic:{display:"flex",justifyContent:"center",alignItems:"center"},title:{marginBottom:30,color:"white",fontFamily:"Equinox"}}}))(P),M=a(578),B=a(591),R=a(588),G=a(628),Y=a(275),z=a.n(Y),K=a(627),U=a(52),L=a.n(U),H=a(78),q=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={email:"",name:"",phone_number:"",dob:H(new Date).format("YYYY-MM-DD"),password:"",confirmation_password:"",gender:""},e.handleTextChange=function(t,a){e.setState(Object(s.a)({},a,t.currentTarget.value))},e.handleDateChange=function(t,a){e.setState(Object(s.a)({},a,H(t).format("YYYY-MM-DD")))},e.handleSubmit=function(t){t.preventDefault(),L.a.post("https://api.certix.suhanginta-hermanudin.xyz/api/users/register",e.state).then((function(e){window.location.href="/login"})).catch((function(e){try{if(void 0!==e.response)if(401===e.response.status)k.a.fire("Not Authorized","","warning").then((function(e){window.location="/login"}));else{for(var t="",a=0,n=0,r=Object.entries(e.response.data.message);n<r.length;n++){Object(w.a)(r[n],2)[1].forEach((function(e){0!==a&&(t+="<br>"),t+=e,a++}))}t=t.replaceAll(" id "," "),k.a.fire("Error",t,"error")}}catch(o){void 0!==e.response.status?k.a.fire("Error ".concat(e.response.status),e.response.statusText,"error"):k.a.fire("Error",o.toString(),"error")}}))},e.renderDatePicker=function(t){return r.a.createElement(K.a,{fullWidth:!0,className:e.props.classes.textField,value:e.state[t.name],label:t.label,onChange:function(a){e.handleDateChange(a,t.name)}})},e.renderInput=function(t){return"date"===t.type?e.renderDatePicker(t):"select"===t.type?e.renderSelect(t):e.renderTextField(t)},e.renderSelect=function(t){return r.a.createElement(M.a,{className:e.props.classes.input,fullWidth:!0},r.a.createElement(B.a,{id:"demo-simple-select-label"},t.label),r.a.createElement(R.a,{value:e.state[t.name],onChange:function(a){e.setState(Object(s.a)({},t.name,a.target.value))}},r.a.createElement(G.a,{value:""}),r.a.createElement(G.a,{value:"M"},"Male"),r.a.createElement(G.a,{value:"F"},"Female")))},e.renderTextField=function(t){return r.a.createElement(g.a,{fullWidth:!0,value:e.state[t.name],className:e.props.classes.textField,type:t.type,label:t.label,onChange:function(a){e.handleTextChange(a,t.name)},inputProps:{className:e.props.classes.input}})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement("div",{className:t.root},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(h.a,{container:!0,className:[t.formContainer,t.dfjccaic]},r.a.createElement(f.a,{className:t.title,variant:"h3"},"Register Certix"),X.map((function(t){return e.renderInput(t)})),r.a.createElement(v.a,{fullWidth:!0,variant:"contained",color:"primary",type:"submit",onClick:this.handleSubmit,style:{marginTop:"20px"},href:"#contained-buttons"},"Register"))))}}]),a}(n.Component),V=function(e){var t=e.name,a=e.label,n=e.type;e.values;return{name:t,label:a,type:n}},X=[V({name:"name",label:"Name",type:"text"}),V({name:"gender",label:"Gender",type:"select"}),V({name:"email",label:"Email",type:"email"}),V({name:"phone_number",label:"Phone Number",type:"text"}),V({name:"dob",label:"Date of Birth",type:"date"}),V({name:"password",label:"Password",type:"password"}),V({name:"confirmation_password",label:"Confirmation Password",type:"password"})],J=Object(y.a)((function(e){return{root:{backgroundSize:"cover",backgroundImage:"url(".concat(z.a,")"),width:"100vw",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},textField:{paddingBottom:0,margin:"10px 0px",fontWeight:500},input:{color:"white"},formContainer:{backgroundColor:"rgba(0,0,0,0.7)",width:400,padding:20},dfjccaic:{display:"flex",justifyContent:"center",alignItems:"center"},title:{marginBottom:30,color:"white",fontFamily:"Equinox"}}}))(q),Q=a(58),$=a(145),Z=a.n($),ee=a(650),te=a(631),ae=a(199),ne=a(632),re=a(633),oe=a(634),le=a(635),ie=a(636),ce=a(277),se=a.n(ce),ue=a(279),me=a.n(ue),pe=a(278),de=a.n(pe),he=function e(){Object(u.a)(this,e)};he.Get=function(e){return A.Get("/concerts",{keyword:e})},he.History=function(){return A.Get("/concerts/history")},he.Show=function(e){return A.Get("/concerts/".concat(e))};var fe=he,ge=a(15),Ee=a(630),be=a(584),ve=a(317),ye=a(315),Ce=a(146),Oe=a.n(Ce),je=a(148),xe=a.n(je),we=a(311),Se=a(276),ke=a.n(Se),_e=a(147),Ne=a.n(_e),Te=a(654),De=a(625),Ae=a(586),Fe=a(629),Ie=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).logout=function(){I.Logout().then((function(e){O.a.remove("ACCESS_TOKEN"),window.location.href="/login"})).catch((function(e){O.a.remove("ACCESS_TOKEN"),window.location.href="/login"}))},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.classes,t=[Pe("Home","/",e),Pe("Referrals","/referrals",e),Pe("History","/history",e),Pe("Seller","/sellings",e)];return r.a.createElement(Te.a,{anchor:"left",open:this.props.open,onClose:this.props.onClose,onOpen:this.props.onOpen},r.a.createElement("div",{className:e.list},r.a.createElement(De.a,null,t.map((function(e){return e}))),r.a.createElement("div",{className:e.grow}),r.a.createElement(De.a,null,void 0===O.a.load("ACCESS_TOKEN")?Pe("Login","/login",this.props.classes):r.a.createElement(i.b,{onClick:this.logout,className:e.listItem},r.a.createElement(Ae.a,{button:!0,key:"Logout"},r.a.createElement(Fe.a,{primary:"Logout"}))))))}}]),a}(n.Component),Pe=function(e,t,a){return r.a.createElement(i.b,{to:t,className:a.listItem},r.a.createElement(Ae.a,{button:!0,key:e},r.a.createElement(Fe.a,{primary:e})))},We=Object(y.a)((function(e){return{list:{width:250,height:"100vh",flexDirection:"column",display:"flex"},fullList:{width:"auto"},grow:{flexGrow:1},listItem:{textDecoration:"none",color:"#ffffff"}}}))(Ie),Me=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={anchorEl:null,search:void 0!==e.props.text?e.props.text:"",drawerOpen:!1,wallet:"0"},e.handleMenu=function(t){e.setState({anchorEl:t.currentTarget})},e.handleClose=function(){e.setState({anchorEl:null})},e.handleTextChange=function(t,a){e.setState(Object(s.a)({},a,t.currentTarget.value))},e.handleSearch=function(t){t.preventDefault(),window.location.href="/search?keyword="+e.state.search},e.refreshWallet=function(){void 0!==O.a.load("ACCESS_TOKEN")&&I.Wallet().then((function(t){e.setState({wallet:t.data.balance.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")})}))},e.logout=function(){I.Logout().then((function(e){O.a.remove("ACCESS_TOKEN"),window.location.href="/login"})).catch((function(e){O.a.remove("ACCESS_TOKEN"),window.location.href="/login"}))},e.addWallet=function(){k.a.fire({title:"Enter amount of cash",input:"number",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,confirmButtonText:"Add",showLoaderOnConfirm:!0,preConfirm:function(t){return A.Post("/wallet",{value:t}).then((function(t){return e.refreshWallet(),t.data})).catch((function(e){k.a.showValidationMessage("Request failed: ".concat(e))}))},allowOutsideClick:function(){return!k.a.isLoading()}})},e}return Object(m.a)(a,[{key:"toggleDrawer",value:function(e){this.setState({drawerOpen:e})}},{key:"componentWillMount",value:function(){this.refreshWallet()}},{key:"render",value:function(){var e,t=this,a=this.props.classes;return r.a.createElement("div",{className:a.root},r.a.createElement(We,{open:this.state.drawerOpen,onClose:function(){return t.toggleDrawer(!1)},onOpen:function(){return t.toggleDrawer(!0)}}),r.a.createElement(Ee.a,{position:"static",className:a.appBar},r.a.createElement(be.a,null,r.a.createElement(ye.a,(e={className:a.title,edge:"start",onClick:function(){t.toggleDrawer(!0)}},Object(s.a)(e,"className",a.menuButton),Object(s.a)(e,"color","inherit"),Object(s.a)(e,"aria-label","menu"),e),r.a.createElement(Oe.a,null)),r.a.createElement(f.a,{variant:"h6",className:a.title,onClick:function(){window.location.href="/"}},"CERTIX"),r.a.createElement("form",{onSubmit:this.handleSearch},r.a.createElement("div",{className:a.search},r.a.createElement("div",{className:a.searchIcon},r.a.createElement(ke.a,null)),r.a.createElement(ve.a,{value:this.state.search,onChange:function(e){return t.handleTextChange(e,"search")},placeholder:"Search\u2026",classes:{root:a.inputRoot,input:a.inputInput},inputProps:{"aria-label":"search"}}))),r.a.createElement("div",{className:a.grow}),void 0!==O.a.load("ACCESS_TOKEN")&&r.a.createElement("div",null,r.a.createElement(ye.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",color:"white",onClick:this.addWallet},r.a.createElement(Ne.a,{style:{marginRight:10}}),r.a.createElement(f.a,{variant:"button"},"Rp ",this.state.wallet)),r.a.createElement(ye.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:this.handleMenu,color:"white"},r.a.createElement(xe.a,null)),r.a.createElement(we.a,{id:"menu-appbar",anchorEl:this.state.anchorEl,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(this.state.anchorEl),onClose:this.handleClose},r.a.createElement(G.a,{onClick:this.logout},"Logout"))))))}}]),a}(n.Component),Be=Object(y.a)((function(e){return{appBar:{backgroundColor:"black",padding:e.spacing(2)},grow:{flexGrow:1},menuButton:{color:"white",marginRight:e.spacing(2)},title:Object(s.a)({fontFamily:"Equinox",color:"white",display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(s.a)({color:"white",position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(ge.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(ge.c)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{color:"white",padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(s.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:Object(s.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(s.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}}))(Me),Re=Object(Q.a)({jumbotron:{background:"url(".concat(Z.a,")"),backgroundSize:"cover",backgroundPosition:"center",width:"100%",height:"400px",display:"flex",alignItems:"center"},header:{color:"white"},title:{fontFamily:"Equinox",marginBottom:"10px"},subtitle:{fontFamily:"Gilmer"},tableContainer:{maxWidth:"80vw"},historyContainer:{display:"flex",flexDirection:"column",alignItems:"center"},category:{fontFamily:"Equinox",color:"#ffffff",margin:"40px 0 40px 0"}});function Ge(){var e=Re(),t=Object(n.useState)(null),a=Object(w.a)(t,2),o=a[0],l=a[1];return Object(n.useEffect)((function(){fe.History().then((function(e){l(e.data)}))}),[]),r.a.createElement("div",{className:e.root},r.a.createElement(Be,null),r.a.createElement(ee.a,{className:e.jumbotron},r.a.createElement(ee.a,{className:e.header,px:10},r.a.createElement(f.a,{className:e.title,variant:"h2"},"Your Concert History"),r.a.createElement(f.a,{className:e.subtitle,variant:"h4"},"See Your Ticket Purchases"))),r.a.createElement(ee.a,{className:e.historyContainer},o&&o.upcoming.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{className:e.category,variant:"h5"},"Upcoming Concert Tickets"),r.a.createElement(te.a,{component:ae.a,className:e.tableContainer},r.a.createElement(ne.a,{className:e.table,"aria-label":"simple table"},r.a.createElement("colgroup",null,r.a.createElement("col",{width:"30%"}),r.a.createElement("col",{width:"30%"}),r.a.createElement("col",{width:"10%"}),r.a.createElement("col",{width:"10%"}),r.a.createElement("col",{width:"20%"})),r.a.createElement(re.a,null,r.a.createElement(oe.a,null,r.a.createElement(le.a,null,"Concert Name"),r.a.createElement(le.a,{align:"center"},"Start Time"),r.a.createElement(le.a,{align:"center"},"Genre"),r.a.createElement(le.a,{align:"center"},"Price"))),r.a.createElement(ie.a,null,o.upcoming.map((function(e){return e.ticket.map((function(t){return t.ticket_details.map((function(t){return r.a.createElement(oe.a,{key:e.name},r.a.createElement(le.a,{component:"th",scope:"row"},e.name),r.a.createElement(le.a,{align:"center"},e.start_time),r.a.createElement(le.a,{align:"center"},e.genre),r.a.createElement(le.a,{align:"center"},e.price),r.a.createElement(le.a,{align:"center"},r.a.createElement(v.a,{variant:"contained",onClick:function(){return function(e){e=e.toString().replaceAll(",","\n");var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),k.a.fire({title:"Token copied to clipboard",html:"Your token is:<br/><strong>".concat(e,"</strong><br>DO <strong>NOT</strong> show this token( to strangers!"),timer:2e3})}(t.token)}},"Get Private Token")))}))}))})))))),o&&o.past.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{className:e.category,variant:"h5"},"Past Concert Tickets"),r.a.createElement(te.a,{component:ae.a,className:e.tableContainer},r.a.createElement(ne.a,{className:e.table,"aria-label":"simple table"},r.a.createElement("colgroup",null,r.a.createElement("col",{width:"30%"}),r.a.createElement("col",{width:"30%"}),r.a.createElement("col",{width:"10%"}),r.a.createElement("col",{width:"10%"}),r.a.createElement("col",{width:"20%"})),r.a.createElement(re.a,null,r.a.createElement(oe.a,null,r.a.createElement(le.a,null,"Concert Name"),r.a.createElement(le.a,{align:"center"},"Start Time"),r.a.createElement(le.a,{align:"center"},"Genre"),r.a.createElement(le.a,{align:"center"},"Price"),r.a.createElement(le.a,{align:"center"},"Rating"))),r.a.createElement(ie.a,null,o&&o.past.length>0&&o.past.map((function(e){return e.ticket.map((function(t){return t.ticket_details.map((function(t){return r.a.createElement(oe.a,{key:e.name},r.a.createElement(le.a,{component:"th",scope:"row"},e.name),r.a.createElement(le.a,{align:"center"},e.start_time),r.a.createElement(le.a,{align:"center"},e.genre),r.a.createElement(le.a,{align:"center"},e.price),r.a.createElement(le.a,{align:"center"},function(e){if(0===e)return"Not yet rated!";for(var t=[],a=e,n=5;a>=1;)t.push(r.a.createElement(se.a,null)),a-=1,n-=1;for(a>0&&a<1&&(t.push(r.a.createElement(de.a,null)),n-=1);n>0;)t.push(r.a.createElement(me.a,null)),n--;return t}(t.star)))}))}))}))))))))}var Ye=a(155),ze=a(637);var Ke=function(e){var t=e.Component,a=Object(Ye.a)(e,["Component"]),n=Object(ze.a)(["ACCESS_TOKEN"]),o=Object(w.a)(n,1)[0];return r.a.createElement(c.b,Object.assign({},a,{render:function(e){return o.ACCESS_TOKEN?r.a.createElement(t,e):r.a.createElement(c.a,{to:"/"})}}))};var Ue=function(e){var t=e.Component,a=Object(Ye.a)(e,["Component"]),n=Object(ze.a)(["ACCESS_TOKEN"]),o=Object(w.a)(n,1)[0];return r.a.createElement(c.b,Object.assign({},a,{render:function(e){return o.ACCESS_TOKEN?r.a.createElement(c.a,{to:"/"}):r.a.createElement(t,e)}}))},Le=a(643),He=a(280),qe=a.n(He),Ve=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={anchorEl:null,search:"",drawerOpen:!1},e.handleMenu=function(t){e.setState({anchorEl:t.currentTarget})},e.handleClose=function(){e.setState({anchorEl:null})},e.handleTextChange=function(t,a){e.setState(Object(s.a)({},a,t.currentTarget.value))},e.handleSearch=function(t){t.preventDefault(),window.location.href="/search?keyword="+e.state.search},e.logout=function(){I.Logout().then((function(e){O.a.remove("ACCESS_TOKEN"),window.location.href="/login"})).catch((function(e){O.a.remove("ACCESS_TOKEN"),window.location.href="/login"}))},e}return Object(m.a)(a,[{key:"toggleDrawer",value:function(e){this.setState({drawerOpen:e})}},{key:"render",value:function(){var e,t=this,a=this.props.classes;return r.a.createElement("div",{className:a.root},r.a.createElement(We,{open:this.state.drawerOpen,onClose:function(){return t.toggleDrawer(!1)},onOpen:function(){return t.toggleDrawer(!0)}}),r.a.createElement(Ee.a,{position:"static",className:a.appBar},r.a.createElement(be.a,null,r.a.createElement(ye.a,(e={className:a.title,edge:"start",onClick:function(){t.toggleDrawer(!0)}},Object(s.a)(e,"className",a.menuButton),Object(s.a)(e,"color","inherit"),Object(s.a)(e,"aria-label","menu"),e),r.a.createElement(Oe.a,null)),r.a.createElement(f.a,{variant:"h6",className:a.title},"CERTIX"),void 0!==O.a.load("ACCESS_TOKEN")&&r.a.createElement("div",null,r.a.createElement(ye.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:this.handleMenu,color:"white"},r.a.createElement(xe.a,null)),r.a.createElement(we.a,{id:"menu-appbar",anchorEl:this.state.anchorEl,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(this.state.anchorEl),onClose:this.handleClose},r.a.createElement(G.a,{onClick:this.logout},"Logout")))),r.a.createElement(be.a,{className:a.contentToolbar},r.a.createElement(f.a,{className:a.title,variant:"h1",gutterBottom:!0},"CERTIX"),r.a.createElement(f.a,{variant:"h2",className:a.helloBeauty},"Book Your Concert!"),r.a.createElement("form",{onSubmit:this.handleSearch,style:{width:"1000px",maxWidth:"100%"}},r.a.createElement(g.a,{fullWidth:!0,value:this.state.search,color:"primary",className:a.textField,label:"Search Concert / Streamer",type:"text",onChange:function(e){t.handleTextChange(e,"search")},inputProps:{className:a.input}})))))}}]),a}(n.Component),Xe=Object(y.a)((function(e){return{appBar:{backgroundImage:"url(".concat(qe.a,")"),backgroundSize:"cover",backgroundPositionY:"calc(80vw - 100vw)",padding:e.spacing(2)},root:{flexGrow:1},menuButton:{color:"white",marginRight:e.spacing(2)},title:{color:"white",fontFamily:"Equinox",flexGrow:1},contentToolbar:{color:"white",padding:e.spacing(1),minHeight:"100px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},helloBeauty:{fontFamily:"Hello Beauty"}}}))(Ve),Je=a(638),Qe=a(639),$e=a(640),Ze=a(641),et=a(642),tt=["https://source.unsplash.com/1600x900?singer","https://source.unsplash.com/1600x900?vocalist","https://source.unsplash.com/1600x900?band","https://source.unsplash.com/1600x900?concert","https://source.unsplash.com/1600x900?orchestra","https://source.unsplash.com/1600x900?violin","https://source.unsplash.com/1600x900?music","https://source.unsplash.com/1600x900?church","https://source.unsplash.com/1600x900?jazz"],at=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).renderStreamerCard=function(){var t=e.props,a=t.classes,n=t.data;return r.a.createElement(Je.a,{className:a.root},r.a.createElement(Qe.a,null,r.a.createElement($e.a,{className:a.media,image:tt[Math.floor(Math.random()*tt.length)],title:"Contemplative Reptile"}),r.a.createElement(Ze.a,null,r.a.createElement(f.a,{gutterBottom:!0,variant:"h5",component:"h2"},n.name))),r.a.createElement(et.a,null,r.a.createElement(v.a,{size:"small",color:"primary"},"View Streamer")))},e.renderConcertCart=function(){var t=e.props,a=t.classes,n=t.data;return r.a.createElement(Je.a,{className:a.root},r.a.createElement(Qe.a,{onClick:function(){return window.location.href="concert"===e.props.type?"concert/"+n.id:"#"}},r.a.createElement($e.a,{className:a.media,image:tt[Math.floor(Math.random()*tt.length)],title:"Contemplative Reptile"}),r.a.createElement(Ze.a,null,r.a.createElement(f.a,{gutterBottom:!0,variant:"h5",component:"h2"},n.name),r.a.createElement(f.a,{variant:"body2",color:"textSecondary",component:"p"},"Streamer : ",n.streamer),r.a.createElement(f.a,{variant:"body2",color:"textSecondary",component:"p"},"Price \xa0\xa0\xa0\xa0\xa0\xa0: ",n.price))),r.a.createElement(et.a,null,r.a.createElement(i.b,{to:"concert"===e.props.type?"concert/"+n.id:"#",style:{textDecoration:"none"}},r.a.createElement(v.a,{size:"small",color:"primary"},"Watch"))))},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,"concert"===this.props.type?this.renderConcertCart():this.renderStreamerCard())}}]),a}(n.Component),nt=Object(y.a)((function(e){return{media:{height:300}}}))(at),rt=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).renderGrids=function(){for(var t=[],a=[],n=0;n<e.props.data.length/5;n++)e.props.data.slice(5*n,5*n+5).map((function(t){a.push(r.a.createElement(h.a,{item:!0,xs:12,lg:!0},r.a.createElement(nt,{type:e.props.type,data:t})))})),t.push(a),a=[];return t.map((function(e){return r.a.createElement(h.a,{container:!0,spacing:3,justify:"center"},e.map((function(e){return e})))}))},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null," ",0===this.props.data.length&&r.a.createElement(f.a,{variant:"h5",style:{color:"white"}},"No Data")," ",this.renderGrids())}}]),a}(n.Component),ot=(Object(y.a)((function(e){return{}}))(rt),function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={topConcerts:[],concerts:[],topStreamers:[],streamers:[]},e.renderTitle=function(t,a){return r.a.createElement(h.a,{container:!0,justify:"space-between",className:e.props.classes.titleContainer},r.a.createElement(f.a,{variant:"h5",color:"secondary",className:e.props.classes.title},t),r.a.createElement(v.a,{variant:"outlined",color:"secondary",onClick:function(){window.location.href="/search?tab=".concat("concert"===a?0:1)}},"Explore"))},e.renderDataContainer=function(t,a,n){return r.a.createElement("div",{className:e.props.classes.dataContainer},e.renderTitle(t,a),r.a.createElement(rt,{type:a,data:n}))},e.mapStateToConcert=function(e){return e.map((function(e){return lt(e.id,e.name,e.seller.name,e.price)}))},e.mapStateToStreamer=function(e){return e.map((function(e){return it(e.id,e.name)}))},e}return Object(m.a)(a,[{key:"componentWillMount",value:function(){var e=this;L.a.get("https://api.certix.suhanginta-hermanudin.xyz/api/homepage").then((function(t){console.log(t.data),e.setState({topStreamers:t.data.top_sellers,topConcerts:t.data.top_concerts,streamers:t.data.sellers,concerts:t.data.concerts})}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Xe,null),r.a.createElement(Le.a,null,this.renderDataContainer("Bestselling Concert","concert",this.mapStateToConcert(this.state.topConcerts)),this.renderDataContainer("Find Out Other Concert","concert",this.mapStateToConcert(this.state.concerts)),this.renderDataContainer("Top Streamer","streamer",this.mapStateToStreamer(this.state.topStreamers)),this.renderDataContainer("Find Out Other Streamer","streamer",this.mapStateToStreamer(this.state.streamers))))}}]),a}(n.Component)),lt=function(e,t,a,n){return{id:e,name:t,streamer:a,price:n}},it=function(e,t){return{id:e,name:t}},ct=Object(y.a)((function(e){return{title:{fontFamily:"Gilmer Bold"},titleContainer:{marginBottom:e.spacing(1)},dataContainer:{marginTop:e.spacing(5),marginBottom:e.spacing(5)}}}))(ot),st=a(647),ut=a(157),mt=a(310),pt=a(648),dt=a(32),ht=a(309),ft=function e(){Object(u.a)(this,e)};ft.Store=function(e){return A.Post("/seller/application",e)};var gt=ft,Et=function e(){Object(u.a)(this,e)};Et.Get=function(e){return A.Get("/sellers/sellings",e)},Et.Post=function(e){return A.Post("/concerts",e)},Et.ValidateSeller=function(){return A.Post("/sellers/validate")};var bt=Et,vt=a(78),yt=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={ic_number:"",name:"",description:""},e.handleTextChange=function(t,a){e.setState(Object(s.a)({},a,t.currentTarget.value))},e.handleDateChange=function(t,a){e.setState(Object(s.a)({},a,vt(t).format("YYYY-MM-DD")))},e.resetState=function(){e.setState({ic_number:"",name:"",description:""})},e.handleSubmit=function(t){t.preventDefault(),gt.Store(e.state).then((function(t){k.a.fire("","Success Applying","success").then((function(){e.resetState()}))}))},e.renderDatePicker=function(t){return r.a.createElement(K.a,{fullWidth:!0,className:e.props.classes.textField,value:e.state[t.name],label:t.label,onChange:function(a){e.handleDateChange(a,t.name)}})},e.renderInput=function(t){return"date"===t.type?e.renderDatePicker(t):"select"===t.type?e.renderSelect(t):e.renderTextField(t)},e.renderSelect=function(t){return r.a.createElement(M.a,{className:e.props.classes.input,fullWidth:!0},r.a.createElement(B.a,{id:"demo-simple-select-label"},t.label),r.a.createElement(R.a,{value:e.state[t.name],onChange:function(a){e.setState(Object(s.a)({},t.name,a.target.value))}},r.a.createElement(G.a,{value:""}),r.a.createElement(G.a,{value:"M"},"Male"),r.a.createElement(G.a,{value:"F"},"Female")))},e.renderTextField=function(t){return r.a.createElement(g.a,{multiline:t.multiline,fullWidth:!0,value:e.state[t.name],className:e.props.classes.textField,type:t.type,label:t.label,onChange:function(a){e.handleTextChange(a,t.name)},inputProps:{className:e.props.classes.input}})},e}return Object(m.a)(a,[{key:"componentWillMount",value:function(){bt.ValidateSeller().then((function(e){console.log(e.data),1===e.data&&(window.location.href="/sellings")}))}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Be,null),r.a.createElement("div",{className:t.root},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(h.a,{container:!0,className:[t.formContainer,t.dfjccaic]},r.a.createElement(f.a,{className:t.title,variant:"h3"},"BECOME A STREAMER"),Ot.map((function(t){return e.renderInput(t)})),r.a.createElement(v.a,{fullWidth:!0,variant:"contained",color:"primary",type:"submit",onClick:this.handleSubmit,style:{marginTop:"20px"},href:"#contained-buttons"},"Apply Now")))))}}]),a}(n.Component),Ct=function(e){var t=e.name,a=e.label,n=e.type,r=e.values,o=void 0===r?void 0:r,l=e.multiline;return{name:t,label:a,type:n,values:o,multiline:void 0!==l&&l}},Ot=[Ct({name:"name",label:"Name",type:"text"}),Ct({name:"ic_number",label:"Identity Card Number",type:"text"}),Ct({name:"description",label:"Description",type:"text",multiline:!0})],jt=Object(y.a)((function(e){return{root:{backgroundSize:"cover",backgroundImage:"url(".concat(Z.a,")"),width:"100vw",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},textField:{paddingBottom:0,margin:"10px 0px",fontWeight:500},input:{color:"white"},formContainer:{backgroundColor:"rgba(0,0,0,0.7)",width:400,padding:20},dfjccaic:{display:"flex",justifyContent:"center",alignItems:"center"},title:{marginBottom:30,color:"white",fontFamily:"Equinox"}}}))(yt),xt=a(652),wt=a(644),St=a(657),kt=a(646),_t=a(282),Nt=a.n(_t),Tt=a(579),Dt=a(580),At=a(645),Ft=a(582),It=a(583),Pt=a(651),Wt=a(655),Mt=a(78),Bt=a.n(Mt),Rt=a(150),Gt=a.n(Rt),Yt=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).resetState=function(){e.props.data.forEach((function(t){e.setState(Object(s.a)({},t.name,"number"===t.type?0:""))}))},e.handleInputChange=function(t,a){e.setState(Object(s.a)({},a,t.currentTarget.value))},e.handleMediaFileChange=function(t,a){e.setState({media_id:t,thumbnail_path:a})},e.handleSelectChange=function(t,a){e.setState(Object(s.a)({},t,a.target.value))},e.handleDateChange=function(t,a){e.setState(Object(s.a)({},a,Bt()(t).format("YYYY-MM-DD HH:mm:ss")))},e.renderTextField=function(t){return r.a.createElement(g.a,{className:e.props.classes.input,value:e.state[t.name],label:t.label,type:t.type,multiline:"multiline"===t.type,disabled:!1===t.enabled,onChange:function(a){return e.handleInputChange(a,t.name)},fullWidth:!0})},e.renderDateTimePicker=function(t){return r.a.createElement(Wt.a,{className:e.props.classes.input,fullWidth:!0,label:"Start Date",minDate:new Date(2019,7,1),value:new Date(e.state[t.name]),onChange:function(a){return e.handleDateChange(a,t.name)},animateYearScrolling:!0})},e.renderDatePicker=function(t){return r.a.createElement(K.a,{className:e.props.classes.input,fullWidth:!0,label:"Start Date",minDate:new Date(2019,7,1),value:new Date(e.state[t.name]),onChange:function(a){return e.handleDateChange(a,t.name)},animateYearScrolling:!0})},e.renderSelect=function(t){return r.a.createElement(M.a,{style:{width:"100%"},className:e.props.classes.input},r.a.createElement(B.a,null,t.label),r.a.createElement(R.a,{value:e.state[t.name],onChange:function(a){return e.handleSelectChange(t.name,a)}},t.values.map((function(e){return r.a.createElement(G.a,{value:e.value.toString()},e.text)}))))},e.renderAutoComplete=function(t){return r.a.createElement(Pt.a,{multiple:!0===t.multiple,options:t.values,value:e.state[t.model],getOptionLabel:function(e){return e.name},onChange:function(a,n){var r,o=null===n?void 0:n.id;e.setState((r={},Object(s.a)(r,t.name,o),Object(s.a)(r,t.model,o),r))},renderInput:function(e){return r.a.createElement(g.a,Object.assign({},e,{variant:"standard",label:t.label}))}})},e.handleOpenMediaDialog=function(){e.setState({isChoosingMedia:!0})},e.handleCloseMediaDialog=function(){e.setState({isChoosingMedia:!1})},e.renderMediaContainer=function(){var t=e.props.classes;return r.a.createElement("div",{className:t.mediaContainer,onClick:function(){e.setState({isChoosingMedia:!0})}},void 0===e.state.media_id||""===e.state.media_id?r.a.createElement(f.a,{variant:"h6"},"No media is selected"):r.a.createElement("img",{alt:e.state.thumbnail_path,src:e.state.thumbnail_path,className:t.img}))},e.renderMediaInput=function(t){return r.a.createElement(M.a,{variant:"outlined",fullWidth:!0},r.a.createElement(Tt.a,{style:{margin:0}},t.label),e.renderMediaContainer())},e.renderFormItem=function(t){switch(t.field_type){case"textfield":return e.renderTextField(t);case"select":return e.renderSelect(t);case"autocomplete":return e.renderAutoComplete(t);case"media_file":return e.renderMediaInput(t);case"date":return e.renderDatePicker(t);case"datetime":return e.renderDateTimePicker(t);default:return""}},e.handleClose=function(){e.resetState(),e.props.onClose()},e.handleSubmit=function(){e.props.model.Post(e.state).then((function(t){k.a.fire("Success Adding Data!","","success"),e.handleClose()})).catch((function(t){e.props.onClose()}))},e.draggablePaperComponent=function(e){return r.a.createElement(Gt.a,{handle:"#title",cancel:'[class*="MuiDialogContent-root"]'},r.a.createElement(ae.a,e))},e}return Object(m.a)(a,[{key:"componentWillMount",value:function(){var e=this;this.props.data.forEach((function(t){e.setState(Object(s.a)({},t.name,"number"===t.type?0:"date"===t.type?Bt()(new Date).format("YYYY-MM-DD"):"datetime"===t.type?Bt()(new Date).format("YYYY-MM-DD HH:mm:ss"):""))}))}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Dt.a,{PaperComponent:this.draggablePaperComponent,open:this.props.open,modal:!0,onClose:this.handleClose,fullWidth:!0,maxWidth:"sm"},r.a.createElement(At.a,{className:t.title,id:"title"},this.props.title),r.a.createElement(Ft.a,null,this.props.data.map((function(t){return e.renderFormItem(t)}))),r.a.createElement(It.a,null,r.a.createElement(v.a,{onClick:this.handleClose,color:"primary"},"Cancel"),r.a.createElement(v.a,{onClick:this.handleSubmit,color:"primary"},"Add"))))}}]),a}(n.Component),zt=Object(y.a)((function(e){return{title:{cursor:"move"},input:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},mediaContainer:{width:"100%",height:"400px",display:"flex",justifyContent:"center",textAlign:"center",alignItems:"center",border:"1px solid rgba(0, 0, 0, 0.23)"},label:{position:"absolute",width:"100%",height:"100%",zIndex:100},img:{width:"100%",height:"400px",objectFit:"cover"}}}))(Yt),Kt=a(585),Ut=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"https://api.certix.suhanginta-hermanudin.xyz/api"}).REACT_APP_SERVER_URL,Lt=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={attributes:[]},n.handleInputChange=function(e,t){n.setState(Object(s.a)({},t,e.currentTarget.value))},n.handleSelectChange=function(e,t){n.setState(Object(s.a)({},e,t.target.value))},n.renderMediaContainer=function(){var e=n.props.classes;return r.a.createElement("div",{className:e.mediaContainer},r.a.createElement("img",{alt:n.state.thumbnail_path,src:Ut+n.state.thumbnail_path,className:e.img}))},n.renderThumbnail=function(e){return r.a.createElement(M.a,{variant:"outlined",fullWidth:!0},r.a.createElement(Tt.a,{style:{margin:0}},e.label),n.renderMediaContainer())},n.renderTextField=function(e){return r.a.createElement(g.a,{className:n.props.classes.input,value:n.state[e.name],label:e.label,type:e.type,multiline:"multiline"===e.type,onChange:function(t){return e.enabled&&n.handleInputChange(t,e.name)},fullWidth:!0})},n.handleDateChange=function(e,t){n.setState(Object(s.a)({},t,Bt()(e).format("YYYY-MM-DD")))},n.renderDatePicker=function(e){return r.a.createElement(K.a,{className:n.props.classes.input,fullWidth:!0,label:"Start Date",minDate:new Date(2019,7,1),value:new Date(n.state[e.name]),onChange:function(t){return n.handleDateChange(t,e.name)},animateYearScrolling:!0})},n.renderSelect=function(e){return r.a.createElement(M.a,{style:{width:"100%"},className:n.props.classes.input},r.a.createElement(B.a,null,e.label),r.a.createElement(R.a,{value:n.state[e.name],onChange:function(t){return n.handleSelectChange(e.name,t)}},e.values.map((function(e){return r.a.createElement(G.a,{value:e.value.toString()},e.text)}))))},n.renderAutoComplete=function(e){return r.a.createElement(Pt.a,{multiple:!0,options:e.data,getOptionLabel:function(e){return e.name},renderInput:function(t){return r.a.createElement(g.a,Object.assign({},t,{variant:"standard",label:e.label}))}})},n.renderFileInput=function(e){return r.a.createElement(g.a,{className:n.props.classes.input,value:n.state[e.name],label:e.label,variant:"outlined",type:"file",onChange:function(t){return n.handleInputChange(t,e.name)},fullWidth:!0,InputProps:{startAdornment:r.a.createElement(Kt.a,{position:"start"})}})},n.renderFormItem=function(e){switch(e.field_type){case"textfield":return n.renderTextField(e);case"select":return n.renderSelect(e);case"autocomplete":return n.renderAutoComplete(e);case"file":return n.renderFileInput(e);case"date":return n.renderDatePicker(e);case"thumbnail":return n.renderThumbnail(e);default:return""}},n.handleClose=function(){n.props.onClose()},n.handleUpdate=function(){n.props.model.Put(n.props.id,n.state).then((function(e){n.handleClose(),k.a.fire("Success Updating Data!","","success")})).catch((function(e){n.props.onClose()}))},n.handleDelete=function(){n.props.model.Delete(n.props.id).then((function(e){n.handleClose(),k.a.fire("Success Deleting Data!","","success")})).catch((function(e){n.props.onClose()}))},n.handleUserReset=function(){n.props.isUser&&n.props.model.Reset(n.props.id).then((function(e){n.handleClose(),k.a.fire("Success Resetting User!","","success")})).catch((function(e){n.props.onClose()}))},n.draggablePaperComponent=function(e){return r.a.createElement(Gt.a,{handle:"#title",cancel:'[class*="MuiDialogContent-root"]'},r.a.createElement(ae.a,e))},n.props.model.Show(n.props.id).then((function(e){var t=e.data,a={};n.props.attributes.forEach((function(e){a[e.name]=t[e.name]})),a.attributes=n.props.attributes,n.setState(a)})),n}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(Dt.a,{PaperComponent:this.draggablePaperComponent,open:this.props.open,modal:!0,onClose:this.handleClose,fullWidth:!0,maxWidth:"sm"},r.a.createElement(At.a,{id:"title",className:this.props.classes.title},this.props.title+" - "+this.props.id),r.a.createElement(Ft.a,null,this.state.attributes.map((function(t){return e.renderFormItem(t)}))),r.a.createElement(It.a,null,r.a.createElement(v.a,{onClick:this.handleClose,color:"default"},"Cancel"),!0===this.props.isUser?r.a.createElement(v.a,{onClick:this.handleUserReset,color:"secondary"},"Reset"):r.a.createElement(v.a,{onClick:this.handleDelete,color:"secondary"},"Delete"),r.a.createElement(v.a,{onClick:this.handleUpdate,color:"primary"},"Update")))}}]),a}(n.Component),Ht=Object(y.a)((function(e){return{input:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},mediaContainer:{width:"100%",height:"300px",display:"flex",justifyContent:"center",textAlign:"center",alignItems:"center",border:"1px solid rgba(0, 0, 0, 0.23)"},img:{width:"100%",height:"100%",objectFit:"cover"},title:{cursor:"move"}}}))(Lt),qt=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={open:!1,page:0,isFiltering:!0,addFormAttributes:{},isOpeningAddForm:!1,isOpeningUpdateForm:!1,selectedId:void 0,data:[],tempFilter:{},totalData:0,filter:{page:0,orderBy:"id",order:"asc",rowsPerPage:5}},e.refreshData=function(){e.props.model.Get(e.state.filter).then((function(t){e.setState({data:t.data,totalData:t.data.total_data})}))},e.renderToolbar=function(){var t=e.props.classes;return r.a.createElement("div",{style:{width:"100%"},className:t.header},r.a.createElement(f.a,{variant:"h5"},e.props.title),!0!==e.props.readOnly&&r.a.createElement(v.a,{className:t.button,color:"primary",startIcon:r.a.createElement(Nt.a,null),onClick:function(){e.setState({isOpeningAddForm:!0})}},"Add"))},e.renderTableHead=function(){var t=e.props.headCells;return r.a.createElement(re.a,null,r.a.createElement(oe.a,null,t.map((function(e){return r.a.createElement(le.a,{key:e.id},r.a.createElement(St.a,null,e.label))}))))},e.handleUpdateFormOpen=function(t){e.setState({isOpeningUpdateForm:!0,selectedId:t})},e.handleUpdateFormClose=function(){e.setState({isOpeningUpdateForm:!1,selectedId:void 0})},e.renderTableData=function(){var t=e.state,a=t.page,n=t.data,o=e.state.filter.rowsPerPage,l=o-Math.min(o,n.length-a*o);return r.a.createElement(ie.a,null,e.state.data.map((function(t,a){var n=[];return e.props.headCells.forEach((function(a){n.push(r.a.createElement(le.a,{align:"left"},null!==t[a.id]?"image"===a.type?r.a.createElement("img",{alt:a.base_url+t[a.id],src:a.base_url+t[a.id],className:e.props.classes.thumbnail}):t[a.id]:"-"))})),r.a.createElement(oe.a,{hover:!0,role:"checkbox"},n.map((function(e){return e})))})),l>0&&r.a.createElement(oe.a,{style:{height:53*l}},r.a.createElement(le.a,{colSpan:6})))},e.handleChangeRowsPerPage=function(t){e.handleFilterChange("page",0,e.handleFilterChange("rowsPerPage",parseInt(t.target.value,10),(function(){e.refreshData()})))},e.renderAddDialog=function(){return!0===e.props.readOnly?"":r.a.createElement(zt,{model:e.props.model,onClose:function(){e.setState({isOpeningAddForm:!1})},isMediaTransaction:e.props.isMediaTransaction,isUser:e.props.isUser,title:"Add "+e.props.title,open:e.state.isOpeningAddForm,data:e.props.addFormAttributes})},e.renderUpdateDialog=function(){return!1===e.state.isOpeningUpdateForm||void 0===e.state.selectedId||!0===e.props.readOnly?"":r.a.createElement(Ht,{model:e.props.model,onClose:function(){e.setState({isOpeningUpdateForm:!1})},id:e.state.selectedId,isUser:e.props.isUser,isRoute:e.props.isRoute,title:"Update "+e.props.title,open:e.state.isOpeningUpdateForm,attributes:e.props.updateFormAttributes,isMediaTransaction:e.props.isMediaTransaction})},e}return Object(m.a)(a,[{key:"componentWillMount",value:function(){this.setState({tempFilter:{},addFormAttributes:{}}),this.refreshData()}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(r.a.Fragment,null,this.state.isOpeningAddForm&&this.renderAddDialog(),this.state.isOpeningUpdateForm&&this.renderUpdateDialog(),r.a.createElement(ae.a,{className:e.paper},this.renderToolbar(),r.a.createElement(kt.a,{style:{marginTop:20}}),r.a.createElement(te.a,null,r.a.createElement(ne.a,null,this.renderTableHead(),this.renderTableData()))))}}]),a}(n.Component),Vt=Object(y.a)((function(e){return{filterContainer:{padding:e.spacing(2)},header:{boxSizing:"object-fit",width:"100%",padding:e.spacing(1),display:"flex",justifyContent:"space-between"},button:{marginRight:e.spacing(3)},root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:"100%"},thumbnail:{width:"300px",height:"250px",objectFit:"cover"}}}))(qt),Xt=function(e,t,a,n){return{field_type:"textfield",name:e,label:t,type:a,enabled:n}},Jt=function(e,t,a){return{field_type:"select",name:e,label:t,values:a}},Qt=function(e,t,a,n,r,o){return{field_type:"autocomplete",name:e,model_name:t,label:a,values:n,option:r,multiple:o}},$t=function e(){Object(u.a)(this,e)};$t.Get=function(e){return A.Get("/genres",e)};var Zt=$t,ea=a(284),ta=a.n(ea),aa=a(151),na=a.n(aa),ra=a(283),oa=a.n(ra),la=a(286),ia=a.n(la),ca=a(287),sa=a.n(ca),ua=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(ae.a,{elevation:2},r.a.createElement(h.a,{container:!0,className:e.root},r.a.createElement(h.a,{item:!0,className:e.iconContainer,style:{backgroundColor:this.props.iconBackgroundColor}},this.props.icon),r.a.createElement(h.a,{item:!0,className:e.textContainer},r.a.createElement(f.a,{variant:"h5"},this.props.value),r.a.createElement(f.a,{variant:"p"},this.props.description))))}}]),a}(n.Component),ma=Object(y.a)((function(e){return{root:{height:100},iconContainer:{width:100,height:"100%",alignItems:"center",display:"flex",justifyContent:"center",color:"white"},textContainer:{textAlign:"center",flex:1,flexDirection:"column",display:"flex",justifyContent:"center",alignItems:"center"}}}))(ua),pa=a(285),da=a.n(pa),ha=a(288),fa=a.n(ha),ga=a(289),Ea=a.n(ga),ba=a(158),va=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).generateCard=function(e,t,a,n){return r.a.createElement(ma,{iconBackgroundColor:e,icon:t,description:a,value:void 0!==n?n:0})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(h.a,{container:!0,spacing:5,style:{width:"100%"}},ya.map((function(t){return r.a.createElement(h.a,{item:!0,xs:12,md:6,lg:!0},e.generateCard(t.background,t.icon,t.description,void 0!==e.props.data?e.props.data[t.key]:void 0))})))}}]),a}(n.Component),ya=[{background:oa.a[400],icon:r.a.createElement(ta.a,{style:{fontSize:"50px"}}),description:"Average Ratings",key:"average_ratings"},{background:na.a[400],icon:r.a.createElement(da.a,{style:{fontSize:"50px"}}),description:"Incoming Concert",key:"incoming_concert"},{background:ia.a[400],icon:r.a.createElement(Ne.a,{style:{fontSize:"50px"}}),description:"Total Ticket Sold",key:"sold_ticket"},{background:sa.a[400],icon:r.a.createElement(fa.a,{style:{fontSize:"50px"}}),description:"Total Income (Rp)",key:"total_income"},{background:ba.a[400],icon:r.a.createElement(Ea.a,{style:{fontSize:"50px"}}),description:"Total Engagement",key:"total_engagement"}],Ca=va,Oa=a(23),ja=a(191),xa=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).mapPropsToData=function(){var t=[],a={};return e.props.data.forEach((function(e){a[e.name]=e.value})),t.push(a),t},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(ae.a,{elevation:2,className:e.root},r.a.createElement(f.a,{variant:"h6"},"Upcoming Concert Sold Ticket"),r.a.createElement(kt.a,null),r.a.createElement(Oa.j,null,r.a.createElement(Oa.b,{width:730,height:250,data:this.mapPropsToData()},r.a.createElement(Oa.c,{strokeDasharray:"3 3"}),r.a.createElement(Oa.m,null),r.a.createElement(Oa.k,null),r.a.createElement(Oa.e,null),this.props.data.map((function(e){return r.a.createElement(Oa.a,{dataKey:e.name,fill:ja.getColor()})})))))}}]),a}(n.Component),wa=Object(y.a)((function(e){return{root:{padding:e.spacing(2),paddingBottom:e.spacing(5),height:400}}}))(xa),Sa=a(191),ka=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(ae.a,{elevation:2,className:e.root},r.a.createElement(f.a,{variant:"h6"},"Most Popular Genre"),r.a.createElement(kt.a,null),r.a.createElement(Oa.j,null,r.a.createElement(Oa.i,null,r.a.createElement(Oa.h,{data:this.props.data,innerRadius:80,fill:"#8884d8",paddingAngle:5,dataKey:"value",nameKey:"name",label:!0},this.props.data.map((function(e){return r.a.createElement(Oa.d,{fill:Sa.getColor()})}))),r.a.createElement(Oa.k,null),r.a.createElement(Oa.e,null))))}}]),a}(n.Component),_a=Object(y.a)((function(e){return{root:{padding:e.spacing(2),paddingBottom:e.spacing(5),height:400}}}))(ka),Na=a(191),Ta=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.classes;return console.log(this.props),r.a.createElement(ae.a,{elevation:2,className:e.root},r.a.createElement(f.a,{variant:"h6"},"Most Successful Concert"),r.a.createElement(kt.a,null),r.a.createElement(Oa.j,null,r.a.createElement(Oa.i,null,r.a.createElement(Oa.h,{data:this.props.data,fill:"#8884d8",dataKey:"value",label:!0},this.props.data.map((function(e){return r.a.createElement(Oa.d,{fill:Na.getColor()})}))),r.a.createElement(Oa.k,null),r.a.createElement(Oa.e,null))))}}]),a}(n.Component),Da=Object(y.a)((function(e){return{root:{padding:e.spacing(2),paddingBottom:e.spacing(5),height:400}}}))(Ta),Aa=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(h.a,{container:!0,spacing:5,style:{width:"100%"}},r.a.createElement(h.a,{item:!0,xs:12,lg:4},r.a.createElement(_a,{data:this.props.data.most_popular_genre})),r.a.createElement(h.a,{item:!0,xs:12,lg:4},r.a.createElement(Da,{data:this.props.data.most_profit_genre})),r.a.createElement(h.a,{item:!0,xs:12,lg:4},r.a.createElement(wa,{data:this.props.data.upcoming_total_sold})))}}]),a}(n.Component),Fa=Object(y.a)((function(e){return{}}))(Aa),Ia=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).mapPropsToData=function(){var t=[];return e.props.data.forEach((function(e){t.push(Pa(e.month,e.Income))})),t},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(ae.a,{elevation:2,className:e.root},r.a.createElement(f.a,{variant:"h6"},"Total Income in ",(new Date).getFullYear()),r.a.createElement(Oa.j,null,r.a.createElement(Oa.g,{data:this.mapPropsToData(),margin:{top:16,right:16,bottom:0,left:24}},r.a.createElement(Oa.c,{strokeDasharray:"3 3"}),r.a.createElement(Oa.l,{dataKey:"month"}),r.a.createElement(Oa.m,null),r.a.createElement(Oa.f,{type:"monotone",dataKey:"Income",stroke:na.a[700],strokeWidth:5,dot:!0}),r.a.createElement(Oa.e,null),r.a.createElement(Oa.k,null))))}}]),a}(n.Component);function Pa(e,t){return{month:e,Income:t}}var Wa,Ma,Ba,Ra=Object(y.a)((function(e){return{root:{width:"96%",padding:e.spacing(2),paddingBottom:e.spacing(5),height:400}}}))(Ia),Ga=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={average_ratings:2.7,incoming_concert:1,sold_ticket:0,total_engagement:0,total_income:"0",popular_genres:[],profit_genre:[],this_year_profit:[],upcoming_sold_ticket:[]},e.renderDivider=function(){return r.a.createElement("div",{style:{marginTop:25,marginBottom:25}})},e}return Object(m.a)(a,[{key:"componentWillMount",value:function(){var e=this;A.Get("/sellers/dashboard").then((function(t){e.setState({average_ratings:t.data.average_ratings,incoming_concert:t.data.incoming_concert,sold_ticket:t.data.sold_ticket,total_income:t.data.total_income,popular_genres:t.data.popular_genres,profit_genre:t.data.profit_genre,this_year_profit:t.data.this_year_profit,upcoming_sold_ticket:t.data.upcoming_sold_ticket,total_engagement:t.data.total_engagement})}))}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement(Ca,{data:{average_ratings:this.state.average_ratings,incoming_concert:this.state.incoming_concert,sold_ticket:this.state.sold_ticket,total_engagement:this.state.total_engagement,total_income:this.state.total_income.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}}),this.renderDivider(),r.a.createElement(Fa,{data:{most_popular_genre:this.state.popular_genres,most_profit_genre:this.state.profit_genre,upcoming_total_sold:this.state.upcoming_sold_ticket}}),this.renderDivider(),r.a.createElement(Ra,{data:this.state.this_year_profit}))}}]),a}(n.Component),Ya=Object(y.a)((function(e){return{dateDelimiter:{padding:e.spacing(2),textAlign:"center"},root:{marginTop:e.spacing(2),width:"100%",display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"}}}))(Ga),za=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={genres:[],value:0,isValidated:!1},e.handleTabChange=function(t,a){e.setState({value:a})},e}return Object(m.a)(a,[{key:"componentWillMount",value:function(){var e=this;bt.ValidateSeller().then((function(t){console.log(t.data),1===t.data?e.setState({isValidated:!0}):window.location.href="/apply-streamer"})),Zt.Get({}).then((function(t){e.setState({genres:t.data})}))}},{key:"render",value:function(){var e,t,a,n=[Xt("name","Concert Name","text"),(e="start_time",t="Start Time",a="datetime",{field_type:"datetime",name:e,label:t,type:a}),Xt("price","Price","number"),Qt("genre","genre","Genre",this.state.genres,"name",!1)];return this.state.isValidated&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Be,null),r.a.createElement(Ee.a,{position:"static"},r.a.createElement(xt.a,{style:{backgroundColor:"black",color:"white"},value:this.state.value,onChange:this.handleTabChange,"aria-label":"simple tabs example"},r.a.createElement(wt.a,{label:"Dashboard"}),r.a.createElement(wt.a,{label:"Concerts"}))),1===this.state.value&&r.a.createElement(ae.a,null,r.a.createElement(Vt,{model:bt,title:"Seller Sellings",headCells:La,filterForm:Ka,addFormAttributes:n,updateFormAttributes:Ua})),0===this.state.value&&r.a.createElement(Ya,null))}}]),a}(n.Component),Ka=[Xt("id","ID","text"),Xt("name","Name","text"),Jt("status","Status",[{text:"All",value:"all"},{text:"Active",value:"active"},{text:"Inactive",value:"inactive"}])],Ua=[Xt("name","Name","text"),(Wa="start_time",Ma="Start Time",Ba="text",{field_type:"date",name:Wa,label:Ma,type:Ba}),Jt("status","Status",[{text:"cancelled",value:"Cancel"}])],La=[{id:"id",label:"ID",type:"text"},{id:"name",label:"Name",type:"text"},{id:"price",label:"Price",type:"text"},{id:"start_time",label:"Start Time",type:"text"},{id:"stream_key",label:"Streaming Key",type:"text"},{id:"created_at",label:"Created At",type:"text"},{id:"updated_at",label:"Updated At",type:"text"}],Ha=Object(y.a)((function(e){return{}}))(za),qa=a(302),Va=a.n(qa),Xa=function e(){Object(u.a)(this,e)};Xa.lightGreen="#60e6b4";var Ja=Xa,Qa=function e(){Object(u.a)(this,e)};Qa.All=function(){return A.Get("/referral/all")},Qa.Generate=function(e){return A.Post("/referral/generate",e)},Qa.Use=function(e){return A.Get("/referral/use",e)};var $a=Qa,Za=Object(Q.a)({jumbotron:{background:"url(".concat(Va.a,")"),backgroundSize:"cover",backgroundPosition:"center",width:"100%",height:"400px",display:"flex",alignItems:"center"},header:{color:"white"},title:{fontFamily:"Equinox",marginBottom:"10px"},subtitle:{fontFamily:"Gilmer"},tableContainer:{maxWidth:"80vw"},historyContainer:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:50},category:{fontFamily:"Equinox",color:"#ffffff",margin:"40px 0 40px 0"},obtained:{textAlign:"center"},history:{textDecoration:"none"},historyButton:{backgroundColor:Ja.lightGreen}});function en(){var e=Za(),t=Object(n.useState)(null),a=Object(w.a)(t,2),o=a[0],l=a[1];return Object(n.useEffect)((function(){$a.All().then((function(e){l(e.data)}))}),[]),r.a.createElement("div",{className:e.root},r.a.createElement(Be,null),r.a.createElement(ee.a,{className:e.jumbotron},r.a.createElement(ee.a,{className:e.header,px:10},r.a.createElement(f.a,{className:e.title,variant:"h2"},"Your Referrals"),r.a.createElement(f.a,{className:e.subtitle,variant:"h4"},"Get Free Ticket Using Referrals"))),o&&o.length>0&&r.a.createElement(ee.a,{className:e.historyContainer},r.a.createElement(te.a,{component:ae.a,className:e.tableContainer},r.a.createElement(ne.a,{className:e.table,"aria-label":"simple table"},r.a.createElement("colgroup",null,r.a.createElement("col",{width:"20%"}),r.a.createElement("col",{width:"20%"}),r.a.createElement("col",{width:"10%"}),r.a.createElement("col",{width:"15%"}),r.a.createElement("col",{width:"10%"}),r.a.createElement("col",{width:"25%"})),r.a.createElement(re.a,null,r.a.createElement(oe.a,null,r.a.createElement(le.a,null,"Concert Name"),r.a.createElement(le.a,{align:"center"},"Start Time"),r.a.createElement(le.a,{align:"center"},"Genre"),r.a.createElement(le.a,{align:"center"},"Price"),r.a.createElement(le.a,{align:"center"},"Progress"))),r.a.createElement(ie.a,null,o.map((function(t){return r.a.createElement(oe.a,{key:t.name},r.a.createElement(le.a,{component:"th",scope:"row"},t.concert.name),r.a.createElement(le.a,{align:"center"},t.concert.start_time),r.a.createElement(le.a,{align:"center"},t.concert.genre.name),r.a.createElement(le.a,{align:"center"},t.concert.price),r.a.createElement(le.a,{align:"center"},"".concat(t.count," / 5")),t.count<5&&r.a.createElement(le.a,{align:"center"},r.a.createElement(v.a,{variant:"contained",onClick:function(){return function(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),k.a.fire({title:"Referral code copied to clipboard",html:"Your referral code is: <strong>".concat(e,"</strong><br>Share this to other people to get <strong>FREE</strong> ticket!"),timer:2e3})}(t.id)}},"Get Referral")),5===t.count&&r.a.createElement(le.a,{align:"center"},r.a.createElement(f.a,{className:e.obtained},r.a.createElement(i.b,{to:"/history",className:e.history},r.a.createElement(v.a,{variant:"contained",className:e.historyButton},"Ticket History")))))})))))))}var tn=a(85),an=a.n(tn),nn=function e(){Object(u.a)(this,e)};nn.Get=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return A.Get("/sellers",{keyword:e})};var rn=nn,on=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={streamers:[]},e.renderDataContainer=function(t,a,n){return r.a.createElement("div",{className:e.props.classes.dataContainer},r.a.createElement(rt,{type:a,data:n}))},e}return Object(m.a)(a,[{key:"componentWillMount",value:function(){var e=this;rn.Get(this.props.keyword).then((function(t){e.setState({streamers:t.data})}))}},{key:"render",value:function(){var e=this.state.streamers.map((function(e){return ln(e.id,e.name)}));this.props.classes;return r.a.createElement("div",null,this.renderDataContainer("","streamer",e))}}]),a}(n.Component),ln=function(e,t){return{id:e,name:t}},cn=Object(y.a)((function(e){return{dataContainer:{margin:e.spacing(5)}}}))(on),sn=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={concerts:[]},e.renderDataContainer=function(t,a,n){return r.a.createElement("div",{className:e.props.classes.dataContainer},r.a.createElement(rt,{type:a,data:n}))},e}return Object(m.a)(a,[{key:"componentWillMount",value:function(){var e=this;fe.Get(this.props.keyword).then((function(t){e.setState({concerts:t.data})}))}},{key:"render",value:function(){var e=this.state.concerts.map((function(e){return un(e.id,e.name,e.seller.name,e.price)}));this.props.classes;return r.a.createElement("div",null,this.renderDataContainer("","concert",e))}}]),a}(n.Component),un=function(e,t,a,n){return{id:e,name:t,streamer:a,price:n}},mn=Object(y.a)((function(e){return{dataContainer:{margin:e.spacing(5)}}}))(sn),pn=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={value:void 0!==an.a.parse(e.props.location.search).tab&&""!==an.a.parse(e.props.location.search).tab?parseInt(an.a.parse(e.props.location.search).tab):0},e.handleTabChange=function(t,a){e.setState({value:a})},e}return Object(m.a)(a,[{key:"render",value:function(){return console.log(NaN!==parseInt(an.a.parse(this.props.location.search).tab)),r.a.createElement(r.a.Fragment,null,r.a.createElement(Be,{text:an.a.parse(this.props.location.search).keyword}),r.a.createElement(Ee.a,{position:"static"},r.a.createElement(xt.a,{style:{backgroundColor:"black",color:"white"},value:this.state.value,onChange:this.handleTabChange,"aria-label":"simple tabs example"},r.a.createElement(wt.a,{label:"Streamer"}),r.a.createElement(wt.a,{label:"Concert"}))),0===this.state.value&&r.a.createElement(cn,{keyword:an.a.parse(this.props.location.search).keyword}),1===this.state.value&&r.a.createElement(mn,{keyword:an.a.parse(this.props.location.search).keyword}))}}]),a}(n.Component),dn=Object(y.a)((function(e){return{root:{flexGrow:1,backgroundColor:"black"}}}))(pn),hn=a(303),fn=a.n(hn),gn=a(304),En=a.n(gn);var bn=function(e){var t=e.message;return r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",backgroundColor:"white"}},r.a.createElement(f.a,{variant:"h3"},t," ",r.a.createElement(En.a,{style:{fontSize:"2rem"}})))},vn=function e(){Object(u.a)(this,e)};vn.Validate=function(e){return A.Post("/concerts/validation/token",e)};var yn=vn;var Cn=function(e){var t=e.source,a=(e.start_time,e.id),o="https://rtmp.certix.suhanginta-hermanudin.xyz/"+t+".m3u8",l=Object(n.useState)(!0),i=Object(w.a)(l,2),s=i[0],u=i[1],m=Object(n.useState)(""),p=Object(w.a)(m,2),d=p[0],h=p[1],f=Object(n.useState)(!1),E=Object(w.a)(f,2),b=E[0],y=E[1],C=Object(c.g)();return Object(n.useEffect)((function(){L.a.get(o).catch((function(e){u(!1)}))}),[o]),Object(n.useEffect)((function(){L.a.post("https://api.certix.suhanginta-hermanudin.xyz/api/concerts/validation/session",{cookie:O.a.load("WATCH_COOKIE"),token:O.a.load("WATCH_TOKEN")}).then((function(e){1===e.data&&(y(!0),setInterval((function(){L.a.post("https://api.certix.suhanginta-hermanudin.xyz/api/concerts/validation/session",{cookie:O.a.load("WATCH_COOKIE"),token:O.a.load("WATCH_TOKEN")}).then((function(e){e.data||(y(!1),O.a.remove("WATCH_COOKIE"),O.a.remove("WATCH_TOKEN"),k.a.fire({title:"Warning",html:"Someone has used your token",icon:"error",timer:1e3}).then((function(){C.push("/")})))}))}),2e3))}))}),[]),r.a.createElement(r.a.Fragment,null,!b&&r.a.createElement("div",{style:{display:"flex",justifyContent:"center",margin:"30px 0"}},r.a.createElement(g.a,{id:"filled-basic",label:"Enter concert token",variant:"outlined",fontWeight:"fontWeightBold",onChange:function(e){return h(e.target.value)}}),r.a.createElement(v.a,{variant:"contained",color:"primary",style:{color:"white"},onClick:function(){yn.Validate({token:d}).then((function(e){y(!0),O.a.save("WATCH_COOKIE",e.data,{path:"/concert/"+a}),O.a.save("WATCH_TOKEN",d,{path:"/concert/"+a}),setInterval((function(){L.a.post("https://api.certix.suhanginta-hermanudin.xyz/api/concerts/validation/session",{cookie:e.data,token:d}).then((function(e){e.data||(y(!1),O.a.remove("WATCH_COOKIE"),O.a.remove("WATCH_TOKEN"),k.a.fire({title:"Warning",html:"Someone has used your token",icon:"error",timer:1e3}).then((function(){window.location="/"})))}))}),2e3)}))}},"Use Token")),r.a.createElement("div",{style:{width:"100%",height:"800px"}},s&&b&&r.a.createElement(fn.a,{style:{width:"100%",height:"100%"},url:o,autoplay:!0,controls:!0,width:500,height:375}),s&&!b&&r.a.createElement(bn,{message:"The concert has started! Please insert your token at the top of this page"}),!s&&r.a.createElement(bn,{message:"Concert has not been started"})))},On=a(305),jn=a.n(On),xn=a(306),wn=a.n(xn),Sn=a(308),kn=a.n(Sn),_n=a(307),Nn=a.n(_n),Tn=function e(){Object(u.a)(this,e)};Tn.Buy=function(e){return A.Post("/tickets",e)};var Dn=Tn,An=function e(){Object(u.a)(this,e)};An.Plus=function(e){return A.Get("/plus-impression",e)};var Fn=An,In=Object(Q.a)({detailContainer:{color:"white"},concertDetail:{fontFamily:"Gilmer",margin:"10px 0 10px 0",display:"flex",alignItems:"center"},icon:{margin:"0 5px 0 5px"},innerContainer:{display:"flex"},referralContainer:{display:"flex",alignItems:"center"},nameContainer:{display:"flex",alignItems:"center"}});var Pn=function(e){var t=e.match,a=In(),o=Object(n.useState)(null),l=Object(w.a)(o,2),i=l[0],s=l[1],u=Object(n.useState)(1),m=Object(w.a)(u,2),p=m[0],d=m[1],h=Object(n.useState)(""),E=Object(w.a)(h,2),b=E[0],y=E[1],C=Object(n.useState)(""),j=Object(w.a)(C,2),x=j[0],S=j[1],_=Object(n.useState)(""),N=Object(w.a)(_,2),T=N[0],D=N[1],A=Object(n.useState)(null),F=Object(w.a)(A,2),I=F[0],P=F[1],W=Object(c.g)();function M(e){var t=p+e;t>0&&d(t)}return Object(n.useEffect)((function(){fe.Show(t.params.id).then((function(e){e.data||W.push("/"),s(e.data),Fn.Plus({concert_id:e.data.id}).then((function(e){console.log("impression logged")}))}))}),[]),r.a.createElement("div",null,r.a.createElement(Be,null),i&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Cn,{source:i.stream_key,start_time:i.start_time,id:i.id}),r.a.createElement(ee.a,{className:a.detailContainer,mx:20,my:5},r.a.createElement("div",{className:a.nameContainer},r.a.createElement(f.a,{variant:"h3",className:a.concertDetail},i.name),r.a.createElement(v.a,{variant:"contained",color:"primary",style:{marginLeft:20,color:"white"},onClick:function(){$a.Generate({concert_id:i.id}).then((function(e){var t=document.createElement("textarea");t.value=e.data.referral_id,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),k.a.fire({title:"Referral code copied to clipboard",html:"Your code is:<br/><strong>".concat(e.data.referral_id,"</strong><br>Share this code to everyone else to get free ticket!"),timer:4e3})}))}},"Share Referral Code")),r.a.createElement(ee.a,{className:a.innerContainer},r.a.createElement("div",{style:{flex:2}},r.a.createElement(f.a,{variant:"h5",className:a.concertDetail},r.a.createElement(jn.a,{className:a.icon})," ",i.start_time),r.a.createElement(f.a,{variant:"h5",className:a.concertDetail},r.a.createElement(wn.a,{className:a.icon})," ",i.genre.name)),r.a.createElement("div",{style:{flex:2}},r.a.createElement(f.a,{variant:"h5",className:a.concertDetail},"Individual: Rp. ",i.price),r.a.createElement(f.a,{variant:"h5",className:a.concertDetail},"Quantity:"," ",r.a.createElement(Nn.a,{className:a.icon,onClick:function(){return M(-1)}})," ",p," ",r.a.createElement(kn.a,{className:a.icon,onClick:function(){return M(1)}})," ")),r.a.createElement("div",{style:{flex:2}},r.a.createElement(f.a,{variant:"h5",className:a.concertDetail},"Total: Rp. ",function(){var e=i.price*p,t=0;return I&&(t=.2*e)>5e4&&(t=5e4),e-t}()),r.a.createElement("div",{className:a.referralContainer},r.a.createElement(g.a,{id:"filled-basic",label:"Enter referral code (if any)",variant:"outlined",style:{marginRight:"5px"},onChange:function(e){return y(e.target.value)}}),r.a.createElement(v.a,{variant:"contained",onClick:function(){var e="Bearer "+O.a.load("ACCESS_TOKEN");L.a.get("https://api.certix.suhanginta-hermanudin.xyz/api/referral/use",{params:{concert_id:i.id,referral_id:b},headers:{Authorization:e}}).then((function(e){S(""),D("Referral code ".concat(e.data.id," has been applied")),P(e.data.id)})).catch((function(e){S(e.response.data.message.error),D(""),P(null)}))},style:{marginLeft:20}},"Apply")),r.a.createElement(f.a,{style:{color:"red"},fontWeight:"fontWeightBold",className:a.concertDetail},x),r.a.createElement(f.a,{style:{color:Ja.lightGreen},fontWeight:"fontWeightBold",className:a.concertDetail},T)),r.a.createElement("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"flex-start"}},r.a.createElement(v.a,{variant:"contained",color:"primary",style:{color:"white",padding:"15px 30px"},size:"large",onClick:function(){Dn.Buy({concert_id:i.id,referral_id:I,quantity:p}).then((function(e){k.a.fire({icon:"success",title:"Ticket succesfully bought",timer:3e3}).then((function(){window.location.reload()}))}))}},"Buy Ticket"))))))},Wn=(a(573),Object(mt.a)({palette:{type:"dark",primary:{main:st.a[300]},secondary:{main:ut.a[400]},typography:{fontFamily:["Gilmer"]}}}));var Mn=function(){return r.a.createElement(dt.a,{utils:ht.a},r.a.createElement(pt.a,{theme:Wn},r.a.createElement(i.a,null,r.a.createElement(c.d,null,r.a.createElement(c.b,{exact:!0,path:"/",component:ct}),r.a.createElement(Ke,{exact:!0,path:"/history",Component:Ge}),r.a.createElement(Ue,{exact:!0,path:"/register",Component:J}),r.a.createElement(Ue,{exact:!0,path:"/login",Component:W}),r.a.createElement(Ke,{exact:!0,path:"/apply-streamer",Component:jt}),r.a.createElement(Ke,{exact:!0,path:"/sellings",Component:Ha}),r.a.createElement(Ke,{exact:!0,path:"/referrals",Component:en}),r.a.createElement(c.b,{exact:!0,path:"/search",component:dn}),r.a.createElement(c.b,{exact:!0,path:"/concert/:id",component:Pn})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Bn=a(649);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Bn.a,null,r.a.createElement(Mn,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[354,1,2]]]);
//# sourceMappingURL=main.d821812c.chunk.js.map